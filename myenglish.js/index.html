<!DOCTYPE html>
<html>

	<head>
		<meta charset="utf-8" />
		<title></title>
		<link rel="stylesheet" type="text/css" href="css/common/style.css" />
		<link rel="stylesheet" type="text/css" href="css/gen/picture_one.css" />
		<link rel="stylesheet" type="text/css" href="css/gen/choice.css" />
		<link rel="stylesheet" type="text/css" href="css/gen/underline.css" />
		<link rel="stylesheet" type="text/css" href="css/gen/trueorfalse.css" />
		<link rel="stylesheet" type="text/css" href="css/gen/advertise.css" />
		<script type="text/javascript" src="js/libraries/jquery-1.11.2.min.js"></script>
		<script type="text/javascript" src="js/common/utils.js"></script>
		<script type="text/javascript" src="js/common/count_result.js"></script>
		<script type="text/javascript" src="js/gen/progress.js"></script>
		<script type="text/javascript" src="js/gen/titles.js"></script>
		<script type="text/javascript " src="js/gen/picture_one.js"></script>
		<script type="text/javascript" src="js/gen/controller.js"></script>
		<script type="text/javascript" src="js/gen/choice.js"></script>
		<script type="text/javascript" src="js/gen/underline.js"></script>
		<script type="text/javascript" src="js/gen/trueorfalse.js"></script>
		<script type="text/javascript" src="js/gen/subject.js"></script>
		<script type="text/javascript" src="js/gen/write.js"></script>
		<script type="text/javascript" src="js/gen/advertise.js"></script>
		<style>
			::-webkit-scrollbar {
				width: 15px;
			}
			/* 这是针对缺省样式 (必须的) */
			
			html {
				overflow: hidden;
			}
			body {
				margin: 0px;
				padding: 0px;
			}
			#time {
				color: #E2E0E0;
				height: 30px;
				line-height: 30px;
				margin-left: 123px;
				font-size: 18px;
				font-weight: bold;
			}
			#result {
				position: fixed;
				float: right;
				top: 0px;
				margin-left: 820px;
				width: 300px;
				border-top: 6px solid #999;
				border-left: 1px solid #999;
				border-right: 1px solid #999;
				border-bottom: 1px solid #999;
				min-height: 200px;
				font-size: 14px;
				padding: 0em 2em 0em 2em;
				height: 100%;
				overflow-y: auto;
			}
			button {
				height: 30px;
			}
			#content {
				width: 820px;
				float: left;
				height: 960px;
				overflow-y: auto;
			}
			#timeline {
				position: fixed;
				top: 0px;
				width: 802px;
				height: 6px;
				background-color: #999999;
			}
			#line {
				width: 0px;
				height: 6px;
				background-color: #f05183;
			}
			#nav {
				position: fixed;
				background-color: #dd514c;
				bottom: 36px;
				width: 802px;
				height: 36px;
				line-height: 36px;
				z-index: 1000;
			}
			button {
				cursor: pointer;
			}
			#showDiv {
				position: fixed;
				width: 100%;
				height: 100%;
				bottom: 0px;
				filter: alpha(opacity=35);
				/* IE */
				
				-moz-opacity: 0.35;
				/* Moz + FF */
				
				opacity: 0.35;
				background-color: black;
				z-index: 9998;
				cursor: pointer;
				display: none;
			}
			#showDivss {
				position: fixed;
				width: 200px;
				height: 100px;
				top: 50%;
				left: 50%;
				margin-left: -100px;
				margin-top: -50px;
				background-color: #FFFFFF;
				border: 2px solid #522d24;
				z-index: 9999;
				font-size: 20px;
				line-height: 50px;
				text-align: center;
				cursor: pointer;
				color: #522d24;
				font-weight: bold;
				display: none;
			}
		</style>
	</head>

	<body>
		<div id="showDiv"></div>
		<div id="showDivss">wait......
			<br/>点击继续答题</div>
		<div style='width:1180px;margin:0 auto;'>
			<div id='top' style='position:absolute;top:0px;'></div>
			<div id='content'>
				<div id='nav'>&nbsp;&nbsp;&nbsp;&nbsp;
					<button id='start'>开始答题</button>&nbsp;&nbsp;&nbsp;&nbsp;
					<button id='wait'>暂停答题</button>&nbsp;&nbsp;&nbsp;&nbsp;
					<button id='show'>提交试卷</button>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					<label for="" id='time'></label>
					<input type="hidden" value="" id="usetime" />
				</div>
				<div id='timeline'>
					<audio src="" id="audio"></audio>
					<div id="line"></div>
				</div>

				<div style='margin-top:20px;'></div>
			</div>
			<div id='result'>
			</div>
			<div style='clear: both;'></div>
		</div>
		<!--/**翻页广告**/
		<div id="pageflip">
			<a href="index.html" target="_blank">
				<img width="307" height="319" alt="index.html" src="http://www.17sucai.com/preview/102609/2014-03-25/jQuery+css%E5%B8%A6%E9%98%B4%E5%BD%B1%E7%9A%84%E6%92%95%E9%A1%B5%E5%B9%BF%E5%91%8A%E4%BB%A3%E7%A0%81/images/page_flip.png">
			</a>
			<div class="msg_block"></div>
		</div>
		/**滚动广告**/
		<div id='bottom'>
			<marquee onmouseover=this.stop() onmouseout=this.start() scrollamount=3 scrollDelay=3 style='cursor:pointer;'>欢迎使用本教学辅助软件......</marquee>
		</div>-->
	</body>
	<script type="text/javascript">
			//txt生成的json数据
			var abcd=[{"type":"h1","title":"unit1 达标检测卷","id":1,"index":1,"scores":0,"img":"img","mp3":"mp3"},{"type":"h2","title":"听力部分（30分）","id":2,"index":2,"scores":0,"img":"img","mp3":"mp3"},{"type":"picture-one","title":"一、听录音，选出你听到的单词或短语（5分）","id":1,"index":1,"scores":5,"img":"xxx.jpg","mp3":"xxx.mp3","data":[{"img":"img/1-1.jpg","answer":"4"},{"img":"img/1-2.jpg","answer":"5"},{"img":"img/1-3.jpg","answer":"1"},{"img":"img/1-4.jpg","answer":"3"},{"img":"img/1-5.jpg","answer":"2"}]},{"type":"picture-one","title":"二、听录音，判断下列图片与你听到的内容是（Y）否（N）相符。（5分）","id":2,"index":2,"scores":5,"img":"xxx.jpg","mp3":"xxx.mp3","data":[{"img":"img/2-1.jpg","answer":"4"},{"img":"img/2-2.jpg","answer":"5"},{"img":"img/2-3.jpg","answer":"1"},{"img":"img/2-4.jpg","answer":"3"},{"img":"img/2-5.jpg","answer":"2"}]},{"type":"choice","title":"三、听录音，选出正确的答语。（10分）","id":3,"index":3,"scores":10,"img":"img","mp3":"mp3","content":null,"data":[{"answer":"B","qusetion":null,"option":["A:No, there is’t.","B:It’s near the school.","C:Yes, it is."]}]},{"type":"trueorfalse","title":"四、听录音，判断下列句子与你听到的内容是（Y）否（N）相符。（10分）","id":4,"index":4,"scores":10,"img":"xxx.jpg","mp3":"xxx.mp3","data":[{"question":"1.There are three places（地方）in the dialogue（对话）.","answer":"N"},{"question":"2.The bookstore is far from the post office.","answer":"N"},{"question":"3.Oliver walks to the bookstore.","answer":"Y"},{"question":"4.Oliver asks a police officer for help.","answer":"Y"},{"question":"5.Oliver turns right at the library.","answer":"N"}]},{"type":"h2","title":"笔试部分（70分）","id":2,"index":2,"scores":0,"img":"img","mp3":"mp3"},{"type":"picture-one","title":"五、根据图片写出相应的单词或词组。（12分）","id":5,"index":5,"scores":12,"img":"xxx.jpg","mp3":"xxx.mp3","data":[{"img":"img/3-1.jpg","answer":"post office"},{"img":"img/3-2.jpg","answer":"post office"},{"img":"img/3-3.jpg","answer":"post office"},{"img":"img/3-4.jpg","answer":"post office"},{"img":"img/3-5.jpg","answer":"post office"},{"img":"img/3-6.jpg","answer":"post office"}]},{"type":"choice","title":"六、单项选择。（12分）","id":6,"index":6,"scores":12,"img":"img","mp3":"mp3","content":null,"data":[{"answer":"B","qusetion":["（   ）6. _______ a great museum!"],"option":["A.How ","B.What","C.Where"]}]},{"type":"trueorfalse","title":"七、给下列句子排序，使其成为一段完整的对话。（5分）","id":7,"index":7,"scores":5,"img":"xxx.jpg","mp3":"xxx.mp3","data":[{"question":"（   ）How can I get there?","answer":"2"},{"question":"（   ）Excuse me.Where is the restaurant?","answer":"1"},{"question":"（   ）Thanks.","answer":"3"},{"question":"（   ）Go straight.Then turn right at the crossing.","answer":"5"},{"question":"（   ）Its behind the park.","answer":"4"}]},{"type":"underlines","title":"八、按要求完成下列各题。（12分）","id":8,"index":8,"scores":12,"img":"img","mp3":"mp3","data":[{"answer":"The shop is near the park.","qusetion":["6.The shop is <u>next to</u> the park.（写出近义词）"],"underline":["Underline","The shop is","^_^","the park"]}]},{"type":"choice","title":"九、完形填空。（10分）","id":9,"index":9,"scores":10,"img":"img","mp3":"mp3","content":["Now Amy is at home. She wants to go to the park. She asks a police officer the way.","Amy: ＿　＿ can I go to the park?","Police officer: You can go there by bus.","Amy: Is it far away ＿ here?","Police officer: Yes, it’s far.","Amy: ＿the bus stop?","Police officer:Turn left ＿　the cinema and you can see the bus stop on your right.","Amy:Thank you very much.","Police officer:That’s OK."],"data":[{"answer":"B","qusetion":null,"option":["（   ）5.A.for","B.to","C.at"]}]},{"type":"choice","title":"十、阅读短文，选择正确的答案。（10分）","id":10,"index":10,"scores":10,"img":"img","mp3":"mp3","content":["Mrs Jones is a teacher. Her house isn’t far away from her school, and she often walks there from Monday to Friday. On Saturday, she often goes to the bookstore to buy some new books. She goes there by bike. She likes reading books very much."],"data":[{"answer":"B","qusetion":["（   ）1.Mrs Jones is a ______."],"option":["A.mother ","B.teacher","C.worker"]},{"answer":"B","qusetion":["（   ）2.Mrs Jones goes to work ______."],"option":["A.on foot","B.by bike ","C.by car"]},{"answer":"B","qusetion":["（   ）3.Mrs Jones usually goes to the ______ on Saturday."],"option":["A.shop","B.school","C.bookstore"]},{"answer":"B","qusetion":["（   ）4.Mrs Jones works ______."],"option":["A.on Sunday ","B.On Saturday"," C.from Monday to Friday"]},{"answer":"B","qusetion":["（   ）5.Mrs Jones goes to the bookstore______ ."],"option":["A.by bike","B.by car","C.on foot"]}]},{"type":"choice","title":"十一、小小作文。（9分）","id":11,"index":11,"scores":9,"img":"img","mp3":"mp3","content":["假设你是Oliver，你想去电影院，请你根据所给的路线图写一段与警察叔叔问路的对话。不少于6句。"],"data":[]}];
			//生成页面	
			controller.init(abcd);
			//生成广告
			advertise.init(jsons)
			$("#content").append(controller.html);
			$(document).ready(function() {
				//试卷代码
				var flag = false;
				$("#wait").click(function() {
					if (flag) {
						$("#showDiv").show();
						$("#showDivss").show();
						clearInterval(timer);
						timer = null;
					} else {
						alert("点击开始答题按钮之后才能使用暂停功能");
					}
				});
				$("#showDivss").click(function() {
					$("#showDiv").hide();
					$("#showDivss").hide();
					clearInterval(timer);
					console.log(timer + "   " + countTime);
					timer = null;
					if (timer == null) {
						timer = setInterval(function() {
							var h, m, s;
							h = parseInt(countTime / 3600);
							if (h >= 1) {
								h = "0" + h;
							} else {
								h = "00";
							}
							m = parseInt((countTime - 3600 * h) / 60);
							if (10 <= m < 60) {
								m = m;
							}
							if (0 <= m && m <= 9) {
								m = "0" + m;
							}
							s = countTime - 3600 * h - 60 * m;
							if (s == 0) {
								s = "00";
							}
							if (0 < s && s <= 9) {
								s = "0" + s;
							}
							$("#time").html("距本次测试结束还有【 <label style='color:#522d24;'>" + h + ":" + m + ":" + s + "</label> 】");
							$("#usetime").val(usetime);
							usetime++;
							countTime--;
							if (iii % 4 == 0) {
								$("#line").width($("#line").width() + 1);
							}
							iii++;
						}, 1000);
					}
				});
				progress.init(); //初始化答题进度卡
				var timer = null,
					countTime = 0,
					usetime = 0,
					iii = 1;
				$("#start").click(function() {
					flag = true;
					$('input[type!=hidden]').val("");
					$('input').css("border-bottom", "1px solid #999999");
					countTime = 90 * 60;
					cr.html = "";
					progress.init();
					$('input').removeAttr("readonly");
					$('input').removeAttr("disabled");
					if (timer == null) {
						timer = setInterval(function() {
							var h, m, s;
							h = parseInt(countTime / 3600);
							if (h >= 1) {
								h = "0" + h;
							} else {
								h = "00";
							}
							m = parseInt((countTime - 3600 * h) / 60);
							if (10 <= m < 60) {
								m = m;
							}
							if (0 <= m && m <= 9) {
								m = "0" + m;
							}
							s = countTime - 3600 * h - 60 * m;
							if (s == 0) {
								s = "00";
							}
							if (0 < s && s <= 9) {
								s = "0" + s;
							}
							$("#time").html("距本次测试结束还有【 <label style='color:#522d24;'>" + h + ":" + m + ":" + s + "</label> 】");
							$("#usetime").val(usetime);
							usetime++;
							countTime--;
							if (iii % 4 == 0) {
								$("#line").width($("#line").width() + 1);
							}
							iii++;
						}, 1000);
					}
				});
				$("#show").click(function() {
					flag = false;
					var con = confirm("你确认提交试卷");
					if (con) {
						$("#result").html("");
						$("#result").hide();
						cr.init();
						clearInterval(timer);
						$("#time").html("");
						timer = null;
						countTime = 90 * 60;
						usetime = 0;
						$('input').attr("readonly", "readonly");
						cr.html = "";
						$("#line").width(0);
						$("#result").show();
						window.location.href = '#top';
						$('input[type!=hidden]').val("");
						$('input').css("border-bottom", "1px solid #999999");
					}
				});
			});
	</script>

</html>